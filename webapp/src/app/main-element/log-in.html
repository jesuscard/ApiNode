<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="main-element-styles.html">
<link rel="import" href="../behaviors/app-behavior.html">

<!-- paper elements-->
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-card/paper-card.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/paper-input/paper-input-container.html">
<link rel="import" href="../../bower_components/paper-input/paper-input-error.html">
<link rel="import" href="../../bower_components/paper-toast/paper-toast.html">
<!--iron elements-->

<link rel="import" href="../../bower_components/iron-image/iron-image.html">
<link rel="import" href="../../bower_components/iron-localstorage/iron-localstorage.html">
<link rel="import" href="../../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../../bower_components/iron-form/iron-form.html">
<link rel="import" href="../../bower_components/iron-input/iron-input.html">


<dom-module id="log-in">
 <template>
   <iron-ajax
   id="accessAjax"
   url="http://192.168.1.7:9021/login"
   method="post"
   content-type="application/x-www-form-urlencoded"
   handle-as="text"
   on-response="handleUserResponse"
   on-error="handleUserError">
 </iron-ajax>

 <iron-localstorage name="my-app-storage" value="{{storedUser}}"
 on-iron-localstorage-load-empty="initializeDefaultUsuario"
 ></iron-localstorage>
 
 <style include="log-in-styles">
 :host {
  display: block;
  text-align: center;
  padding-top: 5%;
  background-image: url("../assets/images/imagen-fondo-login.jpg");
  height: 600px;
}

#prueba{
  align-content: lefr
}

paper-card {
  max-width: 500px;
  min-width: 350px;
}

paper-input {
  --paper-input-error: {
    white-space: normal;
    width: -webkit-fill-available;
  };
}

</style>


<paper-card elevation="2" >
  <form is="iron-form" id="formlogin">
    <div class="card-content">
      <iron-image alt="SIGIS_logo" src="../assets/images/logo-sigis_drawer.png" ></iron-image>  
      <template is="dom-if" if="[[error]]">
        <p class="alert-error"><strong></strong> [[error.messages]]</p>
      </template>
      <div>
        <paper-input  is="iron-input" name="username" label="Usuario" type="text" required auto-validate minlength="3"  pattern="[a-z]*"
        error-message="Debe tener al menos 3 caracteres alfabéticos en minúsculas, sin espacios en blancos" 
        bind-value="{{formData.username}}" id="prueba">             
      </paper-input>
    </div>
    <div>
      <br>
      <paper-input  is="iron-input" name="password" label="Contraseña" type="password" required auto-validate minlength="3" pattern="[a-z]*" 
      error-message="Debe tener al menos 3 caracteres alfabéticos en minúsculas, sin espacios en blancos"          
      bind-value="{{formData.password}}">            
    </paper-input>
  </div>
</div> 
<div class="card-actions">
  <paper-button on-tap="sendForm" raised class="primary">Iniciar</paper-button> 
</div>
</form>
</paper-card>

</template>
<script type="text/javascript" src="log-in.js">   	
</script>
</dom-module>





